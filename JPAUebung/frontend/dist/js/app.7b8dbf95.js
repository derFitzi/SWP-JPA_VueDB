(()=>{"use strict";var e={532:(e,t,r)=>{var o=r(751),n=r(641);const a={id:"app"};function l(e,t,r,o,l,s){const i=(0,n.g2)("router-link"),u=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("nav",null,[(0,n.bF)(i,{to:"/"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("Person List")]))),_:1}),(0,n.bF)(i,{to:"/add"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("Add Person")]))),_:1})]),(0,n.bF)(u)])}var s=r(33);const i={key:0,class:"error"},u={type:"submit"};function d(e,t,r,a,l,d){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("h1",null,(0,s.v_)(a.isEditMode?"Edit Person":"Add Person"),1),(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>a.submitForm&&a.submitForm(...e)),["prevent"]))},[(0,n.Lk)("div",null,[t[4]||(t[4]=(0,n.Lk)("label",{for:"firstName"},"First Name:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[0]||(t[0]=e=>a.person.firstName=e),required:""},null,512),[[o.Jo,a.person.firstName]])]),(0,n.Lk)("div",null,[t[5]||(t[5]=(0,n.Lk)("label",{for:"lastName"},"Last Name:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[1]||(t[1]=e=>a.person.lastName=e),required:""},null,512),[[o.Jo,a.person.lastName]])]),(0,n.Lk)("div",null,[t[6]||(t[6]=(0,n.Lk)("label",{for:"email"},"Email:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>a.person.email=e),required:""},null,512),[[o.Jo,a.person.email]])]),a.errorMessage?((0,n.uX)(),(0,n.CE)("div",i,(0,s.v_)(a.errorMessage),1)):(0,n.Q3)("",!0),(0,n.Lk)("button",u,(0,s.v_)(a.isEditMode?"Update":"Create"),1)],32)])}var p=r(335),c=r(953),m=r(220);const f={name:"PersonForm",setup(){const e=(0,m.lq)(),t=(0,m.rd)(),r=(0,c.Kh)({firstName:"",lastName:"",email:""}),o=(0,c.KR)(!1),a=(0,c.KR)(""),l=async e=>{try{const t=await p.A.get(`http://localhost:8081/api/persons/${e}`);Object.assign(r,t.data)}catch(t){console.error("Error fetching person:",t),a.value="Error fetching person data."}},s=async()=>{try{o.value?await p.A.put(`http://localhost:8081/api/persons/${e.params.id}`,r):await p.A.post("http://localhost:8081/api/persons",r),t.push("/")}catch(n){console.error("Error submitting form:",n),a.value="Error submitting form."}};return(0,n.sV)((()=>{e.params.id&&(o.value=!0,l(e.params.id))})),{person:r,isEditMode:o,errorMessage:a,submitForm:s}}};var v=r(262);const h=(0,v.A)(f,[["render",d],["__scopeId","data-v-2e74353a"]]),k=h,b=["onClick"],L=["onClick"];function y(e,t,r,o,a,l){return(0,n.uX)(),(0,n.CE)("div",null,[t[1]||(t[1]=(0,n.Lk)("h1",null,"Person List",-1)),(0,n.Lk)("table",null,[t[0]||(t[0]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"First Name"),(0,n.Lk)("th",null,"Last Name"),(0,n.Lk)("th",null,"Email"),(0,n.Lk)("th",null,"Actions")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.persons,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,s.v_)(e.id),1),(0,n.Lk)("td",null,(0,s.v_)(e.firstName),1),(0,n.Lk)("td",null,(0,s.v_)(e.lastName),1),(0,n.Lk)("td",null,(0,s.v_)(e.email),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:t=>o.editPerson(e.id)},"Edit",8,b),(0,n.Lk)("button",{onClick:t=>o.deletePerson(e.id)},"Delete",8,L)])])))),128))])])])}const g={name:"PersonList",setup(){const e=(0,c.KR)([]),t=(0,m.rd)(),r=async()=>{try{const t=await p.A.get("http://localhost:8081/api/persons");e.value=t.data}catch(t){console.error("Error fetching persons:",t)}},o=e=>{t.push(`/person/${e}`)},a=async e=>{try{await p.A.delete(`http://localhost:8081/api/persons/${e}`),r()}catch(t){console.error("Error deleting person:",t)}};return(0,n.sV)(r),{persons:e,editPerson:o,deletePerson:a}}},E=(0,v.A)(g,[["render",y],["__scopeId","data-v-2e55c0ec"]]),P=E,N=(0,n.pM)({name:"App",components:{PersonForm:k,PersonList:P}}),_=(0,v.A)(N,[["render",l]]),w=_,O=[{path:"/",component:P},{path:"/add",component:k},{path:"/edit/:id",component:k}],A=(0,m.aE)({history:(0,m.LA)(),routes:O}),C=A,F=(0,o.Ef)(w);F.use(C),F.mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.m=e,(()=>{var e=[];r.O=(t,o,n,a)=>{if(!o){var l=1/0;for(d=0;d<e.length;d++){for(var[o,n,a]=e[d],s=!0,i=0;i<o.length;i++)(!1&a||l>=a)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(s=!1,a<l&&(l=a));if(s){e.splice(d--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,n,a]}})(),(()=>{r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[l,s,i]=o,u=0;if(l.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(i)var d=i(r)}for(t&&t(o);u<l.length;u++)a=l[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=r.O(void 0,[504],(()=>r(532)));o=r.O(o)})();
//# sourceMappingURL=app.7b8dbf95.js.map